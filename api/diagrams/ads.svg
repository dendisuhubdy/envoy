<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="444" height="364"><source><![CDATA[participant Envoy as E [color="black"]
participant Management Server as M [color="black"]

E->M: (V=X,R={},N=A,T=CDS) [color="green"]
M->E: (V=Y,R={foo:...},N=B,T=CDS) [color="gray"]
E->M: (V=,R={foo},N=,T=EDS) [color="green"]
M->E: (V=M,R={foo:...},N=D,T=EDS) [color="gray"]
E->M: (V=M,R={foo},N=D,T=EDS) [color="green"]
E->M: (V=Y,R={},N=B,T=CDS) [color="green"]]]></source><desc style="-webkit-tap-highlight-color:transparent">Created with RaphaÃ«l 2.2.0</desc><defs style="-webkit-tap-highlight-color:transparent"><path style="-webkit-tap-highlight-color:transparent" id="raphael-marker-block" stroke-linecap="round" d="M5,0 0,2.5 5,5z"/><marker style="-webkit-tap-highlight-color:transparent" id="raphael-marker-endblock55-objxfgmk" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xmlns:xlink="http://www.w3.org/1999/xlink" style="-webkit-tap-highlight-color:transparent" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker style="-webkit-tap-highlight-color:transparent" id="raphael-marker-endblock55-objt5dj4" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xmlns:xlink="http://www.w3.org/1999/xlink" style="-webkit-tap-highlight-color:transparent" fill="gray" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker style="-webkit-tap-highlight-color:transparent" id="raphael-marker-endblock55-obj6kywq" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xmlns:xlink="http://www.w3.org/1999/xlink" style="-webkit-tap-highlight-color:transparent" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker style="-webkit-tap-highlight-color:transparent" id="raphael-marker-endblock55-objkaz66" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xmlns:xlink="http://www.w3.org/1999/xlink" style="-webkit-tap-highlight-color:transparent" fill="gray" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker style="-webkit-tap-highlight-color:transparent" id="raphael-marker-endblock55-objw9f57" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xmlns:xlink="http://www.w3.org/1999/xlink" style="-webkit-tap-highlight-color:transparent" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker style="-webkit-tap-highlight-color:transparent" id="raphael-marker-endblock55-objflvbq" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xmlns:xlink="http://www.w3.org/1999/xlink" style="-webkit-tap-highlight-color:transparent" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker></defs><rect style="-webkit-tap-highlight-color:transparent" width="68" height="38" x="10" y="20" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect style="-webkit-tap-highlight-color:transparent" width="48" height="18" x="19.984" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="44" y="39" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">Envoy</tspan></text><rect style="-webkit-tap-highlight-color:transparent" width="68" height="38" x="10" y="306" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect style="-webkit-tap-highlight-color:transparent" width="48" height="18" x="19.984" y="316" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="44" y="325" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">Envoy</tspan></text><path style="-webkit-tap-highlight-color:transparent" fill="none" stroke="#000" stroke-width="2" d="M44,58L44,306"/><rect style="-webkit-tap-highlight-color:transparent" width="183.219" height="38" x="231.625" y="20" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect style="-webkit-tap-highlight-color:transparent" width="163.219" height="18" x="241.609" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="323.234" y="39" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">Management Server</tspan></text><rect style="-webkit-tap-highlight-color:transparent" width="183.219" height="38" x="231.625" y="306" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect style="-webkit-tap-highlight-color:transparent" width="163.219" height="18" x="241.609" y="316" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="323.234" y="325" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">Management Server</tspan></text><path style="-webkit-tap-highlight-color:transparent" fill="none" stroke="#000" stroke-width="2" d="M323.234375,58L323.234375,306"/><rect style="-webkit-tap-highlight-color:transparent" width="192.031" height="18" x="87.594" y="74" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="183.617" y="83" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">(V=X,R={},N=A,T=CDS)</tspan></text><path style="-webkit-tap-highlight-color:transparent" fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objxfgmk)" d="M44,96C44,96,280.6802665507421,96,318.2393908813042,96"/><rect style="-webkit-tap-highlight-color:transparent" width="259.234" height="18" x="53.984" y="112" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="183.617" y="121" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">(V=Y,R={foo:...},N=B,T=CDS)</tspan></text><path style="-webkit-tap-highlight-color:transparent" fill="none" stroke="gray" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objt5dj4)" d="M323.234375,134C323.234375,134,86.55410844925791,134,48.99498411869581,134"/><rect style="-webkit-tap-highlight-color:transparent" width="201.625" height="18" x="82.797" y="150" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="183.617" y="159" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">(V=,R={foo},N=,T=EDS)</tspan></text><path style="-webkit-tap-highlight-color:transparent" fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj6kywq)" d="M44,172C44,172,280.6802665507421,172,318.2393908813042,172"/><rect style="-webkit-tap-highlight-color:transparent" width="259.234" height="18" x="53.984" y="188" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="183.617" y="197" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">(V=M,R={foo:...},N=D,T=EDS)</tspan></text><path style="-webkit-tap-highlight-color:transparent" fill="none" stroke="gray" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objkaz66)" d="M323.234375,210C323.234375,210,86.55410844925791,210,48.99498411869581,210"/><rect style="-webkit-tap-highlight-color:transparent" width="220.828" height="18" x="73.188" y="226" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="183.617" y="235" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">(V=M,R={foo},N=D,T=EDS)</tspan></text><path style="-webkit-tap-highlight-color:transparent" fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objw9f57)" d="M44,248C44,248,280.6802665507421,248,318.2393908813042,248"/><rect style="-webkit-tap-highlight-color:transparent" width="192.031" height="18" x="87.594" y="264" fill="#fff" stroke="none" rx="0" ry="0"/><text style="-webkit-tap-highlight-color:transparent" x="183.617" y="273" fill="#000" stroke="none" font-family="&quot;Andale Mono&quot;, monospace" font-size="16" text-anchor="middle"><tspan style="-webkit-tap-highlight-color:transparent" dy="6">(V=Y,R={},N=B,T=CDS)</tspan></text><path style="-webkit-tap-highlight-color:transparent" fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objflvbq)" d="M44,286C44,286,280.6802665507421,286,318.2393908813042,286"/></svg>